# 10. StoryPack Data Flow

## ğŸ“¦ StoryPack äº¤æ›æ ¼å¼æ¨™æº–

`StoryPack` æ˜¯ Moyin å…¨å±€é€šç”¨çš„æ•¸æ“šè¼‰é«”ï¼Œç¢ºä¿äº†å¾å‰µä½œåˆ°æ¸²æŸ“çš„ä¸€è‡´æ€§ã€‚

```mermaid
classDiagram
    class StoryPack {
        +id: UUID
        +metadata: Object
        +scenes: Scene[]
        +characters: Character[]
        +assets: AssetMap
        +toBinary()
        +validate()
    }

    class Scene {
        +id: String
        +script: String
        +shots: Shot[]
        +audio: AudioTrack[]
    }

    class Shot {
        +description: String
        +camera_angle: String
        +rendering_params: Map
    }

    StoryPack *-- Scene
    Scene *-- Shot
```

## ğŸ”„ æ•¸æ“šæµè½‰æµç¨‹

1.  **Creation Phase**: `moyin-web` ç”Ÿæˆåˆå§‹å…§å®¹ã€‚
2.  **Enhancement Phase**: `Director Agent` è±å¯Œåˆ†é¡èˆ‡é¡é ­ç´°ç¯€ã€‚
3.  **Distribution Phase**: `MCP Server` æ‹†åˆ†æ‰“åŒ…ç™¼é€çµ¦ä¸åŒçš„ Workerã€‚
4.  **Reporting Phase**: Worker æ›´æ–° `StoryPack` ä¸­çš„ç”¢å‡ºç‰©è·¯å¾‘ï¼ˆå¦‚ `video_url`ï¼‰ã€‚
