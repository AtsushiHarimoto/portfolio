# IT Wiki Restructure Best Practices

> **Type**: Best Practices
> **Date**: 2026-01-03
> **Source**: Conversation ID (2026-01-03 Session)

---

## Summary

Standardized IT Wiki directory structure design (numbered + categorized), including document migration, link updates, and automatic index generation. Ensures the knowledge base is easy to manage and search.

---

## Background

A chaotic Wiki directory structure causes:

1. **Difficult retrieval**: Unclear document categorization
2. **Inconsistent naming**: Some in English, some in Chinese
3. **Stale indexes**: README.md not updated after adding new documents
4. **Broken links**: Internal links break after path changes

---

## Detailed Design

### Core Design Principles

#### 1. Numbered + Categorized Naming

Use two-digit numeric prefixes + English category names:

```
workspace/knowledge/
├── 02_architecture/        # System architecture
├── 03_development/         # Development guides
├── 04_frontend/            # Frontend development
├── 05_backend/             # Backend development
├── 06_testing/             # Testing & QA
├── 07_ai_llm/              # AI & LLM
├── 08_code_review/         # Code review
├── 09_workflows/           # Workflows & processes
├── 10_insights/            # Lessons learned & reflections
└── _templates/             # Document templates
```

**Advantages**:

- Numbers ensure consistent sort order
- English names avoid encoding issues
- Clear categories make retrieval easy

#### 2. Document Naming Conventions

| Document Type    | Naming Format            | Example                           |
| ---------------- | ------------------------ | --------------------------------- |
| Feature docs     | `{feature_name}.md`     | `07.1.api_strategy.md`           |
| Lessons learned  | `YYYYMMDD_{topic}.md`   | `20260103_wiki_restructure.md`   |
| Guide docs       | `{topic}_guide.md`      | `01.1.setup_guide.md`            |

#### 3. README.md Auto-Generation

Use `/run-wiki index` to auto-generate the index:

```markdown
# Moyin Project Knowledge Base

> Last updated: {YYYY-MM-DD HH:mm:ss}

---

## Table of Contents

### 01. Getting Started

{Category description}

- [{Document title}]({relative path})
- [{Document title}]({relative path})

---

## Statistics

- **Total documents**: {N}
- **Categories**: 10
- **Last updated**: {YYYY-MM-DD HH:mm:ss}
```

#### 4. Document Migration Process

**Option A: Incremental Restructure (Recommended)**

- Keep existing directories, add numeric prefixes
- Gradually migrate old documents to the new structure

**Option B: One-Shot Restructure**

- Completely rebuild the directory structure
- Migrate all existing documents
- Update all internal links

#### 5. Link Update Strategy

Use relative paths; avoid absolute paths:

**Wrong**:

```markdown
[Document](workspace/knowledge/architecture/02.1.protocol_design.md)
```

**Correct**:

```markdown
[Document](02_architecture/02.1.protocol_design.md)
```

---

## Code/Command Examples

### Example 1: Create Directory Structure (PowerShell)

```powershell
$base = "d:\AI-Novel-Projects\Moyin\workspace\knowledge"
$dirs = @(
    "02_architecture",
    "03_development",
    "04_frontend",
    "05_backend",
    "06_testing",
    "07_ai_llm",
    "08_code_review",
    "09_workflows",
    "10_insights",
    "_templates"
)

foreach ($dir in $dirs) {
    $path = Join-Path $base $dir
    if (-not (Test-Path $path)) {
        New-Item -Path $path -ItemType Directory -Force
    }
}
```

### Example 2: Document Migration Mapping Table

```markdown
| Old Path                       | New Path                              | Operation       |
| ------------------------------ | ------------------------------------- | --------------- |
| `frontend-craft/ui_style.md`   | `04_frontend/04.2.ui_design_system.md` | Move + Rename   |
| `vibecoding-guides/Rules.md`   | `09_workflows/09.12.vibe_coding_rules.md` | Move + Rename |
```

### Example 3: Backup Command

```powershell
$timestamp = Get-Date -Format "yyyyMMdd_HHmmss"
Copy-Item -Path "workspace/knowledge" -Destination "workspace/knowledge_backup_$timestamp" -Recurse
```

---

## Use Cases

- **Scenario 1: New project Wiki setup**
  Use the standardized directory structure from the start to avoid later restructuring.

- **Scenario 2: Existing Wiki restructure**
  Back up first, then perform a one-shot or incremental restructure.

- **Scenario 3: Multi-project Wiki consolidation**
  Merge multiple project Wikis into a unified structure.

- **Scenario 4: Wiki maintenance**
  Periodically run `/run-wiki index` to update the index.

---

## Related Resources

- [run-wiki.md](../run_wiki.md) - Wiki knowledge management workflow
- [workspace/knowledge/](../../../workspace/knowledge/) - Knowledge base directory

---

## Precautions

- **Back up before restructuring**
  Use timestamp-named backup directories, e.g., `knowledge_backup_20260103_162603`

- **Update internal links after migration**
  Auto-scan all `.md` files and replace old paths with new ones.

- **Keep old directories for 30 days**
  Soft delete to prevent external links from breaking immediately.

- **Auto-generate indexes**
  Do not manually edit README.md; use `/run-wiki index` instead.

- **Templates go in \_templates/**
  Use underscore prefix to ensure they sort last.

---

_This document was auto-generated by `/run-wiki conversation`_
