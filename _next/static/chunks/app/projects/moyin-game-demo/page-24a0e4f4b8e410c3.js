(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1987],{7727:function(e,t,a){Promise.resolve().then(a.bind(a,59947))},59947:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return z}});var s=a(57437),n=a(2265),i=a(34478),o=a(48614),r=a(83229),l=a(56475),c=a(98728),d=a(68920),m=a(14938),x=a(32489),u=a(55736),p=a(15051),h=a(10407),b=a(58293),y=a(1904),g=a(38390);let f="/portfolio",k={scene1:{id:"scene1",speaker:"Narrator",text:"You find yourself in a mysterious library filled with ancient books. The air is thick with the scent of old parchment, and a soft, otherworldly glow emanates from somewhere deep within the shelves...",choices:[{text:"Examine the glowing book",nextScene:"scene2a"},{text:"Look for an exit",nextScene:"scene2b"}],bg:"from-indigo-950 via-purple-950 to-slate-950",bgImage:"".concat(f,"/img/school.png"),showCharacter:!0},scene2a:{id:"scene2a",speaker:"Narrator",text:"You reach out and touch the glowing book. It opens on its own, pages fluttering in an invisible breeze. Ancient text rearranges itself before your eyes, revealing a detailed map to a hidden garden beyond the library walls...",choices:[{text:"Follow the map",nextScene:"scene3"}],bg:"from-violet-950 via-indigo-950 to-blue-950",bgImage:"".concat(f,"/img/school.png"),showCharacter:!0},scene2b:{id:"scene2b",speaker:"Narrator",text:"You navigate through the towering bookshelves, searching for a way out. At last, you find a heavy wooden door -- but it is locked. Carved into its surface is an intricate puzzle: rotating rings of symbols that seem to pulse with faint light...",choices:[{text:"Solve the puzzle",nextScene:"scene3"}],bg:"from-slate-950 via-gray-900 to-zinc-950",showCharacter:!1},scene3:{id:"scene3",speaker:"Narrator",text:"You step through into a breathtaking garden bathed in moonlight. Cherry blossom petals drift gently through the cool night air, landing softly on a stone path that winds towards a serene pond. The stars above seem brighter here, as if the garden exists closer to the heavens...",choices:[{text:"Play again",nextScene:"scene1"}],bg:"from-purple-950 via-fuchsia-950 to-pink-950",showCharacter:!0}},j={slow:60,normal:30,fast:10};function v(e){let{petals:t}=e;return(0,s.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-[1]",children:t.map(e=>(0,s.jsx)(i.E.div,{className:"absolute",style:{left:"".concat(e.left,"%"),top:"-20px",width:e.size,height:e.size},animate:{y:["0vh","110vh"],x:[0,e.sway,-e.sway/2,e.sway/3],rotate:[0,360,720],opacity:[e.opacity,e.opacity,0]},transition:{duration:e.duration,delay:e.delay,repeat:1/0,ease:"linear"},children:(0,s.jsx)("svg",{viewBox:"0 0 20 20",fill:"none",className:"w-full h-full",children:(0,s.jsx)("path",{d:"M10 0C10 0 14 6 14 10C14 14 10 16 10 16C10 16 6 14 6 10C6 6 10 0 10 0Z",fill:"#ffc0d3",fillOpacity:"0.6"})})},e.id))})}function w(e){let{message:t,onDone:a}=e;return(0,n.useEffect)(()=>{let e=setTimeout(a,2e3);return()=>clearTimeout(e)},[a]),(0,s.jsx)(i.E.div,{className:"fixed bottom-24 left-1/2 z-[200] -translate-x-1/2 px-6 py-3 rounded-xl border border-white/10 text-sm text-moyin-text-primary",style:{background:"rgba(26,22,37,0.85)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)"},initial:{opacity:0,y:20,x:"-50%"},animate:{opacity:1,y:0,x:"-50%"},exit:{opacity:0,y:10,x:"-50%"},children:t})}function N(e){let{onClose:t,onSave:a,onLoad:n,onSettings:o,onBacklog:x,onTitle:u}=e,{t:p}=(0,g.b)(),h=[{label:p.demos.demoGame.menuItems.save,icon:(0,s.jsx)(r.Z,{className:"w-4 h-4 shrink-0",strokeWidth:1.5}),action:a},{label:p.demos.demoGame.menuItems.load,icon:(0,s.jsx)(l.Z,{className:"w-4 h-4 shrink-0",strokeWidth:1.5}),action:n},{label:p.demos.demoGame.menuItems.settings,icon:(0,s.jsx)(c.Z,{className:"w-4 h-4 shrink-0",strokeWidth:1.5}),action:o},{label:p.demos.demoGame.menuItems.backlog,icon:(0,s.jsx)(d.Z,{className:"w-4 h-4 shrink-0",strokeWidth:1.5}),action:x},{label:p.demos.demoGame.menuItems.titleMenu,icon:(0,s.jsx)(m.Z,{className:"w-4 h-4 shrink-0",strokeWidth:1.5}),action:u}];return(0,s.jsxs)(i.E.div,{className:"absolute inset-0 z-[60] flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),(0,s.jsxs)(i.E.div,{className:"relative z-[1] w-[280px] rounded-2xl border border-white/[0.08] p-6",style:{background:"rgba(26,22,37,0.9)",backdropFilter:"blur(24px)",WebkitBackdropFilter:"blur(24px)"},initial:{opacity:0,scale:.9,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-10},transition:{duration:.25},children:[(0,s.jsx)("h3",{className:"text-sm font-bold tracking-[0.12em] uppercase mb-5 text-center",style:{color:"#ffc0d3"},children:"System Menu"}),(0,s.jsx)("div",{className:"flex flex-col gap-2",children:h.map(e=>(0,s.jsxs)("button",{type:"button",onClick:()=>{e.action()},className:"flex items-center gap-3 w-full px-4 py-3 rounded-xl text-sm font-medium text-moyin-text-secondary hover:text-moyin-pink-light hover:bg-white/[0.04] transition-all duration-200 group",children:[(0,s.jsx)("span",{className:"text-moyin-text-muted group-hover:text-moyin-pink transition-colors",children:e.icon}),e.label]},e.label))}),(0,s.jsx)("button",{type:"button",onClick:t,className:"mt-4 w-full py-2 text-xs text-moyin-text-muted hover:text-moyin-text-secondary transition-colors",children:"Close"})]})]})}function C(e){let{entries:t,onClose:a}=e,{t:n}=(0,g.b)();return(0,s.jsxs)(i.E.div,{className:"absolute inset-0 z-[60] flex flex-col",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},children:[(0,s.jsx)("div",{className:"absolute inset-0",style:{background:"rgba(26,22,37,0.92)",backdropFilter:"blur(24px)",WebkitBackdropFilter:"blur(24px)"}}),(0,s.jsxs)("div",{className:"relative z-[1] flex items-center justify-between px-6 py-4 border-b border-white/[0.06]",children:[(0,s.jsx)("h3",{className:"text-sm font-bold tracking-[0.12em] uppercase",style:{color:"#ffc0d3"},children:n.demos.demoGame.menuItems.backlog}),(0,s.jsx)("button",{type:"button",onClick:a,className:"text-moyin-text-muted hover:text-moyin-pink transition-colors",children:(0,s.jsx)(x.Z,{className:"w-5 h-5",strokeWidth:2})})]}),(0,s.jsx)("div",{className:"relative z-[1] flex-1 overflow-y-auto px-6 py-4",children:0===t.length?(0,s.jsx)("p",{className:"text-moyin-text-muted text-sm text-center mt-8",children:"No history yet."}):(0,s.jsx)("div",{className:"flex flex-col gap-4",children:t.map((e,t)=>(0,s.jsxs)("div",{className:"flex flex-col gap-1 pb-4 border-b border-white/[0.04] last:border-b-0",children:[(0,s.jsx)("span",{className:"text-xs font-semibold tracking-wider uppercase",style:{color:"#ffc0d3"},children:e.speaker}),(0,s.jsx)("p",{className:"text-sm leading-relaxed text-moyin-text-secondary",children:e.text}),(0,s.jsx)("span",{className:"text-[10px] text-moyin-text-muted font-mono",children:e.sceneId})]},t))})})]})}function S(e){let{onClose:t,textSpeed:a,onTextSpeedChange:n,autoMode:o,onAutoModeChange:r,bgmVolume:l,onBgmVolumeChange:c,seVolume:d,onSeVolumeChange:m}=e,{t:x}=(0,g.b)();return(0,s.jsxs)(i.E.div,{className:"absolute inset-0 z-[60] flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),(0,s.jsxs)(i.E.div,{className:"relative z-[1] w-[340px] rounded-2xl border border-white/[0.08] p-6",style:{background:"rgba(26,22,37,0.92)",backdropFilter:"blur(24px)",WebkitBackdropFilter:"blur(24px)"},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.25},children:[(0,s.jsx)("h3",{className:"text-sm font-bold tracking-[0.12em] uppercase mb-6 text-center",style:{color:"#ffc0d3"},children:x.demos.demoGame.menuItems.settings}),(0,s.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-moyin-text-muted uppercase tracking-wider mb-2",children:x.demos.demoGame.textSpeed}),(0,s.jsx)("div",{className:"flex gap-2",children:["slow","normal","fast"].map(e=>(0,s.jsx)("button",{type:"button",onClick:()=>n(e),className:"flex-1 py-2 rounded-lg text-xs font-medium transition-all duration-200 border ".concat(a===e?"border-moyin-pink/50 text-moyin-pink-light bg-moyin-pink/10":"border-white/[0.06] text-moyin-text-secondary hover:border-white/10 hover:text-moyin-text-primary"),children:x.demos.demoGame.speedLabels[e]},e))})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("label",{className:"text-xs text-moyin-text-muted uppercase tracking-wider",children:x.demos.demoGame.autoPlay}),(0,s.jsx)("button",{type:"button",onClick:()=>r(!o),className:"relative w-11 h-6 rounded-full transition-colors duration-200 ".concat(o?"bg-moyin-pink/60":"bg-white/10"),children:(0,s.jsx)("span",{className:"absolute top-0.5 left-0.5 w-5 h-5 rounded-full bg-white transition-transform duration-200 ".concat(o?"translate-x-5":"translate-x-0")})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-moyin-text-muted uppercase tracking-wider mb-2",children:"BGM Volume"}),(0,s.jsx)("input",{type:"range",min:0,max:100,value:l,onChange:e=>c(Number(e.target.value)),className:"w-full h-1.5 rounded-full appearance-none cursor-pointer accent-moyin-pink",style:{background:"linear-gradient(to right, #ffc0d3 ".concat(l,"%, rgba(255,255,255,0.1) ").concat(l,"%)")}}),(0,s.jsxs)("div",{className:"flex justify-between text-[10px] text-moyin-text-muted mt-1",children:[(0,s.jsx)("span",{children:"0"}),(0,s.jsxs)("span",{children:[l,"%"]}),(0,s.jsx)("span",{children:"100"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-moyin-text-muted uppercase tracking-wider mb-2",children:"SE Volume"}),(0,s.jsx)("input",{type:"range",min:0,max:100,value:d,onChange:e=>m(Number(e.target.value)),className:"w-full h-1.5 rounded-full appearance-none cursor-pointer accent-moyin-pink",style:{background:"linear-gradient(to right, #ffc0d3 ".concat(d,"%, rgba(255,255,255,0.1) ").concat(d,"%)")}}),(0,s.jsxs)("div",{className:"flex justify-between text-[10px] text-moyin-text-muted mt-1",children:[(0,s.jsx)("span",{children:"0"}),(0,s.jsxs)("span",{children:[d,"%"]}),(0,s.jsx)("span",{children:"100"})]})]})]}),(0,s.jsx)("button",{type:"button",onClick:t,className:"mt-6 w-full py-2.5 rounded-xl text-xs font-medium text-moyin-text-secondary border border-white/[0.08] hover:border-moyin-pink/30 hover:text-moyin-pink-light transition-all duration-200",children:"Close"})]})]})}function E(e){let{mode:t,onClose:a}=e,{t:n}=(0,g.b)(),o="save"===t?n.demos.demoGame.saveGame:n.demos.demoGame.loadGame,r=Array.from({length:6},(e,t)=>t+1);return(0,s.jsxs)(i.E.div,{className:"absolute inset-0 z-[60] flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:a}),(0,s.jsxs)(i.E.div,{className:"relative z-[1] w-[380px] rounded-2xl border border-white/[0.08] p-6",style:{background:"rgba(26,22,37,0.92)",backdropFilter:"blur(24px)",WebkitBackdropFilter:"blur(24px)"},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.25},children:[(0,s.jsx)("h3",{className:"text-sm font-bold tracking-[0.12em] uppercase mb-5 text-center",style:{color:"#ffc0d3"},children:o}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-3",children:r.map(e=>(0,s.jsxs)("button",{type:"button",className:"flex flex-col items-center justify-center gap-2 rounded-xl border border-white/[0.06] py-5 px-3 hover:border-white/10 transition-all duration-200 group",style:{background:"rgba(255,255,255,0.02)"},onClick:a,children:[(0,s.jsxs)("span",{className:"text-moyin-text-muted text-xs font-mono",children:["Slot ",e]}),(0,s.jsx)("span",{className:"text-[10px] text-moyin-text-muted/60",children:"No Data"}),(0,s.jsx)("span",{className:"text-moyin-text-muted/40 group-hover:text-moyin-text-muted/60 transition-colors",children:(0,s.jsx)(u.Z,{className:"w-6 h-6",strokeWidth:1})})]},e))}),(0,s.jsx)("p",{className:"mt-4 text-center text-[10px] text-moyin-text-muted/60",children:"Demo mode — save/load is not available"}),(0,s.jsx)("button",{type:"button",onClick:a,className:"mt-4 w-full py-2.5 rounded-xl text-xs font-medium text-moyin-text-secondary border border-white/[0.08] hover:border-moyin-pink/30 hover:text-moyin-pink-light transition-all duration-200",children:"Close"})]})]})}function z(){var e,t;let{t:a}=(0,g.b)(),[r,l]=(0,n.useState)("scene1"),[c,d]=(0,n.useState)(0),m=k[r],u=a.demos.demoGame.scenes[r],z={...m,speaker:null!==(e=null==u?void 0:u.speaker)&&void 0!==e?e:m.speaker,text:null!==(t=null==u?void 0:u.text)&&void 0!==t?t:m.text,choices:m.choices.map((e,t)=>{var a;return{...e,text:null!==(a=null==u?void 0:u.choices[t])&&void 0!==a?a:e.text}})},M=(0,n.useMemo)(()=>Array.from({length:7},(e,t)=>({id:t,left:100*Math.random(),size:8+10*Math.random(),duration:8+8*Math.random(),delay:10*Math.random(),opacity:.3+.4*Math.random(),sway:-30+60*Math.random()})),[7]),[G,I]=(0,n.useState)("normal"),[W,Z]=(0,n.useState)(!1),[F,T]=(0,n.useState)(80),[B,P]=(0,n.useState)(80),[A,_]=(0,n.useState)(!1),[D,R]=(0,n.useState)(!1),[V,H]=(0,n.useState)(!1),[L,Y]=(0,n.useState)(null),[O,U]=(0,n.useState)(null),[q,J]=(0,n.useState)([]),{displayedText:K,isTyping:Q,skipToEnd:X}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,[a,s]=(0,n.useState)(""),[i,o]=(0,n.useState)(!1),r=(0,n.useRef)(0),l=(0,n.useRef)(null),c=(0,n.useRef)(e),d=(0,n.useCallback)(()=>{null!==l.current&&(clearTimeout(l.current),l.current=null)},[]),m=(0,n.useCallback)(()=>{d(),s(c.current),o(!1)},[d]);return(0,n.useEffect)(()=>{if(c.current=e,d(),!e){s(""),o(!1);return}r.current=0,s(""),o(!0);let a=()=>{if(r.current+=1,s(c.current.slice(0,r.current)),r.current>=c.current.length){o(!1),l.current=null;return}let e=c.current[r.current-1],n=t;".,;:".includes(e)&&(n=120),"!?".includes(e)&&(n=200),"\n"===e&&(n=150),"…"===e&&(n=280),l.current=setTimeout(a,n)};return l.current=setTimeout(a,t),()=>d()},[e,t,d]),{displayedText:a,isTyping:i,skipToEnd:m}}(z.text,j[G]),$=(0,n.useRef)(null),ee=(0,n.useCallback)(()=>{null!==$.current&&(clearTimeout($.current),$.current=null)},[]),et=(0,n.useRef)(c);(0,n.useEffect)(()=>{(c!==et.current||0===c)&&(0===c&&0===q.length?J([{speaker:z.speaker,text:z.text,sceneId:z.id}]):c!==et.current&&J(e=>[...e,{speaker:z.speaker,text:z.text,sceneId:z.id}]),et.current=c)},[c,z,q.length]),(0,n.useEffect)(()=>(ee(),W&&!Q&&z.choices.length>0&&1===z.choices.length&&($.current=setTimeout(()=>{ea(z.choices[0].nextScene)},3e3)),()=>ee()),[W,Q,r,c]);let ea=(0,n.useCallback)(e=>{ee(),l(e),d(e=>e+1)},[ee]),es=(0,n.useCallback)(()=>{Q&&X()},[Q,X]),en=(0,n.useCallback)(()=>{_(!1),R(!1),H(!1),Y(null)},[]),ei=(0,n.useCallback)(()=>{_(!1),Y("save")},[]),eo=(0,n.useCallback)(()=>{_(!1),Y("load")},[]),er=(0,n.useCallback)(()=>{_(!1),H(!0)},[]),el=(0,n.useCallback)(()=>{_(!1),R(!0)},[]),ec=(0,n.useCallback)(()=>{en(),ee(),l("scene1"),d(e=>e+1),J([])},[en,ee]);(0,n.useEffect)(()=>{let e=A||D||V||null!==L,t=t=>{if("Escape"===t.key){t.preventDefault(),e?en():_(!0);return}e||" "!==t.key&&"Enter"!==t.key||(t.preventDefault(),Q?X():!Q&&z.choices.length>0&&1===z.choices.length&&ea(z.choices[0].nextScene))};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[Q,X,z,ea,A,D,V,L,en]);let ed=A||D||V||null!==L;return(0,s.jsxs)("section",{className:"section-container min-h-screen",children:[(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:[(0,s.jsx)(y.Z,{}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-3xl md:text-4xl font-bold",children:[(0,s.jsx)("span",{className:"gradient-text",children:"Moyin-Game"}),(0,s.jsx)("span",{className:"text-moyin-text-secondary text-lg ml-3 font-normal",children:a.demos.demoGame.title})]}),(0,s.jsx)("p",{className:"text-moyin-text-hint text-sm mt-1",children:a.demos.demoGame.subtitle})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium bg-yellow-500/10 text-yellow-400 border border-yellow-500/20",children:[(0,s.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-yellow-400 animate-pulse"}),a.demos.shared.mockDataBadge]}),(0,s.jsxs)("a",{href:"https://github.com/AtsushiHarimoto/moyin-game",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium text-moyin-text-secondary hover:text-moyin-pink-light border border-white/10 hover:border-moyin-pink/30 transition-all",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"})}),a.demos.shared.source]})]})]})]}),(0,s.jsxs)(i.E.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.15},className:"relative w-full rounded-2xl overflow-hidden border border-white/[0.06]",style:{aspectRatio:"16/9",minHeight:420},children:[(0,s.jsx)(o.M,{mode:"wait",children:(0,s.jsxs)(i.E.div,{className:"absolute inset-0 ".concat(z.bgImage?"":"bg-gradient-to-br ".concat(z.bg)),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.8},style:z.bgImage?{backgroundImage:"url(".concat(z.bgImage,")"),backgroundSize:"cover",backgroundPosition:"center"}:void 0,children:[z.bgImage&&(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br ".concat(z.bg," opacity-40")}),(0,s.jsx)("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"radial-gradient(circle at 1px 1px, white 1px, transparent 0)",backgroundSize:"32px 32px"}})]},"bg-".concat(c))}),"scene3"===r&&(0,s.jsx)(v,{petals:M}),(0,s.jsx)("div",{className:"absolute inset-0 z-[2] pointer-events-none",style:{background:"radial-gradient(ellipse at center, transparent 40%, rgba(0,0,0,0.6) 100%)"}}),(0,s.jsx)(o.M,{mode:"wait",children:z.showCharacter&&(0,s.jsx)(i.E.div,{className:"absolute bottom-0 left-1/2 -translate-x-1/2 z-[5] pointer-events-none flex items-end justify-center",style:{height:"75%",bottom:"20%"},initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.6,delay:.2},children:(0,s.jsx)("img",{src:"".concat(f,"/img/girl.png"),alt:"Character",className:"h-full w-auto object-contain drop-shadow-2xl",style:{maxHeight:"60%",filter:"drop-shadow(0 4px 20px rgba(0,0,0,0.5))"}})},"char-".concat(c))}),(0,s.jsx)(o.M,{mode:"wait",children:(0,s.jsx)(i.E.div,{className:"absolute top-0 left-0 right-0 z-[10] p-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.4,delay:.2},children:z.speaker&&(0,s.jsxs)("div",{className:"inline-flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-8 h-0.5 bg-gradient-to-r from-moyin-pink to-transparent rounded-full"}),(0,s.jsx)("h2",{className:"text-sm md:text-base font-bold tracking-[0.15em] uppercase",style:{color:"#ffc0d3",textShadow:"0 0 10px rgba(255,192,211,0.4), 0 0 20px rgba(255,192,211,0.2)"},children:z.speaker})]})},"speaker-".concat(c))}),(0,s.jsxs)("div",{className:"absolute inset-x-0 bottom-0 z-[20] p-4 md:p-6 flex flex-col",onClick:es,style:{cursor:Q?"pointer":"default"},children:[(0,s.jsx)(o.M,{mode:"wait",children:(0,s.jsxs)(i.E.div,{className:"glass-card p-5 md:p-8 relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.4},style:{background:"rgba(26,22,37,0.75)",backdropFilter:"blur(24px)",WebkitBackdropFilter:"blur(24px)"},children:[(0,s.jsx)("div",{className:"absolute inset-x-0 top-0 h-px opacity-50",style:{background:"linear-gradient(to right, transparent, rgba(255,192,211,0.5), transparent)"}}),(0,s.jsxs)("div",{className:"text-sm md:text-base leading-[1.8] tracking-[0.02em] text-moyin-text-primary min-h-[60px]","aria-live":"polite",children:[K,Q&&(0,s.jsx)("span",{className:"inline-block w-0.5 h-4 bg-moyin-pink ml-0.5 animate-pulse align-text-bottom"})]}),!Q&&0===z.choices.length&&(0,s.jsx)("div",{className:"absolute bottom-3 right-4 text-moyin-pink animate-pulse",children:(0,s.jsx)(p.Z,{className:"w-4 h-4",strokeWidth:2})}),Q&&(0,s.jsx)("div",{className:"absolute bottom-2 right-3 text-[10px] text-moyin-text-muted opacity-60",children:a.demos.demoGame.clickToSkip})]},"dialogue-".concat(c))}),(0,s.jsx)(o.M,{children:!Q&&z.choices.length>0&&(0,s.jsx)(i.E.div,{className:"flex flex-col gap-3 mt-4 max-w-xl mx-auto w-full",initial:{opacity:0,y:15},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.4,delay:.15},children:z.choices.map((e,t)=>(0,s.jsxs)(i.E.button,{type:"button",className:"group relative w-full cursor-pointer overflow-hidden rounded-xl border px-6 py-4 text-left transition-all duration-300 hover:-translate-y-0.5 hover:shadow-lg active:translate-y-0",style:{borderColor:"rgba(255,192,211,0.25)",background:"rgba(26,22,37,0.7)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.2+.1*t},onClick:t=>{t.stopPropagation(),ea(e.nextScene)},whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,s.jsx)("div",{className:"pointer-events-none absolute inset-0 opacity-[0.04]",style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgba(255,192,211,0.3) 1px, transparent 0)",backgroundSize:"16px 16px"}}),(0,s.jsx)("div",{className:"pointer-events-none absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gradient-to-r from-moyin-pink/[0.04] to-moyin-purple/[0.04]"}),(0,s.jsxs)("div",{className:"relative z-[1] flex items-center gap-3",children:[(0,s.jsx)("span",{className:"shrink-0 w-6 h-6 rounded-full border flex items-center justify-center text-xs font-bold",style:{borderColor:"rgba(255,192,211,0.4)",color:"#ffc0d3"},children:String.fromCharCode(65+t)}),(0,s.jsx)("span",{className:"text-sm md:text-base font-medium text-moyin-text-primary leading-relaxed",children:e.text})]}),(0,s.jsx)("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-all duration-300 translate-x-2 group-hover:translate-x-0",children:(0,s.jsx)(h.Z,{className:"w-4 h-4 text-moyin-pink",strokeWidth:2})})]},"".concat(r,"-").concat(t)))})})]}),(0,s.jsx)("div",{className:"absolute top-4 right-4 z-[10]",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-black/30 backdrop-blur-md border border-white/[0.06]",children:[(0,s.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-moyin-pink animate-pulse"}),(0,s.jsxs)("span",{className:"text-[10px] font-mono text-moyin-text-muted uppercase tracking-wider",children:[a.demos.demoGame.scene," ",r.replace("scene","").toUpperCase()]}),(0,s.jsx)(o.M,{children:W&&(0,s.jsx)(i.E.span,{className:"text-[10px] font-mono text-moyin-pink uppercase tracking-wider ml-1",initial:{opacity:0,x:-5},animate:{opacity:1,x:0},exit:{opacity:0,x:-5},children:a.demos.demoGame.auto})})]})}),(0,s.jsx)("div",{className:"absolute top-4 left-4 z-[50]",children:(0,s.jsx)("button",{type:"button",onClick:()=>{ed?en():_(!0)},className:"flex items-center justify-center w-9 h-9 rounded-full bg-black/30 backdrop-blur-md border border-white/[0.06] text-moyin-text-muted hover:text-moyin-pink transition-colors","aria-label":"System Menu",children:ed?(0,s.jsx)(x.Z,{className:"w-4 h-4",strokeWidth:2}):(0,s.jsx)(b.Z,{className:"w-4 h-4",strokeWidth:2})})}),(0,s.jsx)(o.M,{children:A&&(0,s.jsx)(N,{onClose:()=>_(!1),onSave:ei,onLoad:eo,onSettings:er,onBacklog:el,onTitle:ec})}),(0,s.jsx)(o.M,{children:D&&(0,s.jsx)(C,{entries:q,onClose:()=>R(!1)})}),(0,s.jsx)(o.M,{children:V&&(0,s.jsx)(S,{onClose:()=>H(!1),textSpeed:G,onTextSpeedChange:I,autoMode:W,onAutoModeChange:Z,bgmVolume:F,onBgmVolumeChange:T,seVolume:B,onSeVolumeChange:P})}),(0,s.jsx)(o.M,{children:null!==L&&(0,s.jsx)(E,{mode:L,onClose:()=>Y(null)})})]}),(0,s.jsx)(o.M,{children:O&&(0,s.jsx)(w,{message:O,onDone:()=>U(null)})}),(0,s.jsx)(i.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:1},className:"mt-6 text-center",children:(0,s.jsxs)("p",{className:"text-xs text-moyin-text-muted",children:["Click the dialogue box to skip typewriter animation. Choose an option to advance the story.",(0,s.jsxs)("span",{className:"hidden md:inline",children:[" ","Press ",(0,s.jsx)("kbd",{className:"px-1.5 py-0.5 rounded bg-white/5 border border-white/10 text-[10px] font-mono",children:"Space"})," to advance, ",(0,s.jsx)("kbd",{className:"px-1.5 py-0.5 rounded bg-white/5 border border-white/10 text-[10px] font-mono",children:"Esc"})," for menu."]})]})})]})}},1904:function(e,t,a){"use strict";a.d(t,{Z:function(){return d}});var s=a(57437),n=a(2265),i=a(27648),o=a(99376),r=a(92451),l=a(38390);function c(){let e="home"===(0,o.useSearchParams)().get("from"),{t}=(0,l.b)();return(0,s.jsxs)(i.default,{href:e?"/":"/projects/",className:"inline-flex items-center gap-2 text-sm text-moyin-text-secondary hover:text-moyin-pink transition-colors mb-6",children:[(0,s.jsx)(r.Z,{className:"w-4 h-4",strokeWidth:2}),e?t.demos.shared.backToHome:t.demos.shared.backToProjects]})}function d(){return(0,s.jsx)(n.Suspense,{fallback:(0,s.jsxs)(i.default,{href:"/projects/",className:"inline-flex items-center gap-2 text-sm text-moyin-text-secondary hover:text-moyin-pink transition-colors mb-6",children:[(0,s.jsx)(r.Z,{className:"w-4 h-4",strokeWidth:2}),"\xa0"]}),children:(0,s.jsx)(c,{})})}}},function(e){e.O(0,[4478,9421,3603,8390,2971,2117,1744],function(){return e(e.s=7727)}),_N_E=e.O()}]);