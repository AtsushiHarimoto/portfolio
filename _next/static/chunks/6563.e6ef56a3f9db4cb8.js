"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6563],{76563:function(e,n,t){t.r(n),t.d(n,{default:function(){return s}});var i=t(57437),o=t(2265),a=t(51448),r=t(72079);function s(){let e=(0,o.useRef)(null),n=(0,o.useRef)({x:.5,y:.5}),t=(0,o.useRef)(0),s=(0,o.useCallback)(t=>{let i=e.current;if(!i)return;let o=i.getBoundingClientRect();n.current.x=(t.clientX-o.left)/o.width,n.current.y=1-(t.clientY-o.top)/o.height},[]);return(0,o.useEffect)(()=>{let i;let o=e.current;if(!o)return;try{i=new a.CP7({antialias:!1,alpha:!1})}catch(e){return}let l=Math.min(window.devicePixelRatio,2);i.setPixelRatio(l),i.setSize(o.clientWidth,o.clientHeight),i.domElement.style.display="block",i.domElement.style.width="100%",i.domElement.style.height="100%",o.appendChild(i.domElement);let u=new r.xsS,c=new r.iKG(-.5,.5,.5,-.5,.1,10);c.position.z=1;let v={uTime:{value:0},uMouse:{value:new r.FM8(.5,.5)},uResolution:{value:new r.FM8(o.clientWidth*l,o.clientHeight*l)}},d=new r.jyz({vertexShader:"\nvarying vec2 vUv;\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}",fragmentShader:"\nprecision highp float;\nuniform float uTime;\nuniform vec2 uMouse;\nuniform vec2 uResolution;\nvarying vec2 vUv;\n\n// --- Noise ---\nvec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}\nvec2 mod289v2(vec2 x){return x-floor(x*(1.0/289.0))*289.0;}\nvec3 permute(vec3 x){return mod289(((x*34.0)+1.0)*x);}\nfloat snoise(vec2 v){\n  const vec4 C=vec4(0.211324865405187,0.366025403784439,-0.577350269189626,0.024390243902439);\n  vec2 i=floor(v+dot(v,C.yy));vec2 x0=v-i+dot(i,C.xx);\n  vec2 i1=(x0.x>x0.y)?vec2(1,0):vec2(0,1);vec4 x12=x0.xyxy+C.xxzz;x12.xy-=i1;\n  i=mod289v2(i);\n  vec3 p=permute(permute(i.y+vec3(0,i1.y,1))+i.x+vec3(0,i1.x,1));\n  vec3 m=max(0.5-vec3(dot(x0,x0),dot(x12.xy,x12.xy),dot(x12.zw,x12.zw)),0.0);\n  m=m*m;m=m*m;\n  vec3 x3=2.0*fract(p*C.www)-1.0;vec3 h=abs(x3)-0.5;\n  vec3 ox=floor(x3+0.5);vec3 a0=x3-ox;\n  m*=1.79284291400159-0.85373472095314*(a0*a0+h*h);\n  vec3 g;g.x=a0.x*x0.x+h.x*x0.y;g.yz=a0.yz*x12.xz+h.yz*x12.yw;\n  return 130.0*dot(m,g);\n}\n\n// --- Hash for petal randomness ---\nfloat hash(float n){return fract(sin(n)*43758.5453123);}\n\n// --- Sakura petal shape (soft ellipse) ---\nfloat petal(vec2 p, float size){\n  p.x *= 1.4;\n  float d = length(p) / size;\n  return smoothstep(1.0, 0.6, d);\n}\n\nvoid main(){\n  vec2 uv = vUv;\n  vec2 aspect = vec2(uResolution.x / uResolution.y, 1.0);\n\n  // ======= MOUSE RIPPLE (strong, visible) =======\n  float dist = length((uv - uMouse) * aspect);\n  // Multiple concentric ripple rings\n  float ripple1 = sin(dist * 25.0 - uTime * 5.0) * exp(-dist * 3.0) * 0.06;\n  float ripple2 = sin(dist * 40.0 - uTime * 7.0) * exp(-dist * 5.0) * 0.03;\n  float ripple = ripple1 + ripple2;\n\n  // ======= AMBIENT WAVES =======\n  float wave1 = snoise(uv * 2.5 + uTime * 0.12) * 0.02;\n  float wave2 = snoise(uv * 4.0 - uTime * 0.08 + 3.0) * 0.012;\n  float wave3 = snoise(uv * 1.5 + vec2(uTime * 0.05, uTime * 0.03)) * 0.015;\n\n  vec2 distorted = uv + vec2(ripple + wave1 + wave3, ripple + wave2);\n\n  // ======= BACKGROUND: Deep night purple gradient =======\n  vec3 deepPurple  = vec3(0.055, 0.035, 0.11);  // #0e0920 — 漆黒紫\n  vec3 midPurple   = vec3(0.11, 0.065, 0.17);    // #1c1029 — 暗紫\n  vec3 warmPurple  = vec3(0.16, 0.09, 0.22);     // #291838 — 溫紫\n\n  // Vertical gradient with noise variation\n  float grad = distorted.y + snoise(distorted * 1.5 + uTime * 0.03) * 0.08;\n  vec3 bg = mix(deepPurple, midPurple, smoothstep(0.0, 0.5, grad));\n  bg = mix(bg, warmPurple, smoothstep(0.4, 1.0, grad));\n\n  // ======= SAKURA GLOW ORBS (multiple, pulsating) =======\n  vec3 sakuraPink   = vec3(1.0, 0.72, 0.83);   // #FFB8D4 — 華麗粉\n  vec3 sakuraHot    = vec3(1.0, 0.55, 0.72);    // #FF8CB8 — 濃粉\n  vec3 lavender     = vec3(0.65, 0.5, 0.95);    // #A680F2 — 薰衣草\n  vec3 deepRose     = vec3(0.8, 0.3, 0.55);     // #CC4D8C — 深玫瑰\n\n  // Large pulsating sakura orbs\n  float pulse1 = 0.8 + 0.2 * sin(uTime * 0.6);\n  float pulse2 = 0.8 + 0.2 * sin(uTime * 0.8 + 1.5);\n  float pulse3 = 0.8 + 0.2 * sin(uTime * 0.5 + 3.0);\n\n  float orb1 = exp(-length((distorted - vec2(0.2, 0.75)) * aspect) * 2.2) * 0.22 * pulse1;\n  float orb2 = exp(-length((distorted - vec2(0.8, 0.65)) * aspect) * 2.5) * 0.18 * pulse2;\n  float orb3 = exp(-length((distorted - vec2(0.5, 0.2)) * aspect) * 2.0) * 0.15 * pulse3;\n  float orb4 = exp(-length((distorted - vec2(0.15, 0.3)) * aspect) * 3.0) * 0.12;\n  float orb5 = exp(-length((distorted - vec2(0.85, 0.2)) * aspect) * 3.0) * 0.10;\n\n  bg += sakuraPink * orb1;\n  bg += sakuraHot * orb2;\n  bg += lavender * orb3;\n  bg += deepRose * orb4;\n  bg += lavender * orb5;\n\n  // ======= MOUSE GLOW (bright sakura where cursor is) =======\n  float mouseGlow = exp(-dist * 4.0) * 0.35;\n  float mouseRing = exp(-abs(dist - 0.15) * 20.0) * 0.15; // ring around cursor\n  bg += sakuraPink * mouseGlow + sakuraHot * mouseRing;\n\n  // ======= FALLING SAKURA PETALS in shader =======\n  for(int i = 0; i < 15; i++){\n    float fi = float(i);\n    float seed = hash(fi * 127.1);\n    float speed = 0.04 + seed * 0.04;\n    float startX = hash(fi * 311.7);\n    float size = 0.008 + seed * 0.012;\n\n    // Position: fall down, sway horizontally\n    float py = fract(-uTime * speed + seed);  // 0→1 top→bottom\n    float px = startX + sin(uTime * 0.5 + fi * 2.0) * 0.08 + sin(uTime * 0.3 + fi) * 0.04;\n\n    vec2 petalPos = vec2(px, py);\n    vec2 delta = (distorted - petalPos) * aspect;\n\n    // Rotate petal\n    float angle = uTime * (0.3 + seed * 0.5) + fi;\n    float ca = cos(angle), sa = sin(angle);\n    delta = vec2(delta.x * ca - delta.y * sa, delta.x * sa + delta.y * ca);\n\n    float p = petal(delta, size);\n    // Fade in/out at top/bottom\n    float fade = smoothstep(0.0, 0.1, py) * smoothstep(1.0, 0.85, py);\n    // Color: mix between pink variants\n    vec3 petalColor = mix(sakuraPink, vec3(1.0, 0.85, 0.92), seed);\n    bg += petalColor * p * fade * (0.15 + seed * 0.1);\n  }\n\n  // ======= SUBTLE NOISE GRAIN =======\n  float grain = snoise(distorted * 10.0 + uTime * 0.04) * 0.015;\n  bg += grain;\n\n  // ======= VIGNETTE =======\n  float vig = 1.0 - length((uv - 0.5) * 1.3);\n  vig = smoothstep(0.0, 0.7, vig);\n  bg *= 0.7 + 0.3 * vig;\n\n  gl_FragColor = vec4(bg, 1.0);\n}",uniforms:v}),p=new r.Kj0(new r._12(1,1),d);u.add(p);let m=performance.now();if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)v.uTime.value=0,i.render(u,c);else{let e=()=>{v.uTime.value=(performance.now()-m)*.001,v.uMouse.value.set(n.current.x,n.current.y),i.render(u,c),t.current=requestAnimationFrame(e)};t.current=requestAnimationFrame(e)}function f(){if(!o)return;let e=Math.min(window.devicePixelRatio,2);i.setPixelRatio(e);let n=o.clientWidth,t=o.clientHeight;i.setSize(n,t),v.uResolution.value.set(n*e,t*e)}return window.addEventListener("resize",f),o.addEventListener("pointermove",s),()=>{cancelAnimationFrame(t.current),window.removeEventListener("resize",f),o.removeEventListener("pointermove",s),i.dispose(),d.dispose(),p.geometry.dispose(),i.domElement.parentNode&&i.domElement.parentNode.removeChild(i.domElement)}},[s]),(0,i.jsx)("div",{ref:e,className:"absolute inset-0",style:{background:"#0e0920"}})}}}]);