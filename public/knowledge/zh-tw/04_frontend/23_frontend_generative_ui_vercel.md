# 23. 超越純文字的奇蹟：Vercel AI SDK 與生成式 UI (Generative UI)

> **類型**: 次世代 AI-Native 前端架構
> **重點**: 標誌著 Chatbot 時代結束的開端。當使用者問「今天天氣如何」，如果 AI 只會用乾癟的文字回答你，那就太過時了。本篇將揭密當今最高端 AI 框架 **Vercel AI SDK 3.0** 推翻一切的破壞性殺招：**生成式 UI (Generative UI) 與 React Server Components**，讓 AI 直接為你寫出一個動態軟體介面！

---

## 前言：LLM 永遠被「文字框」給囚禁著

自從 ChatGPT 問世以來，全世界都在做對話機器人。但他們都面臨一個介面瓶頸：
當使用者傳送：「幫我訂一張去東京的機票，明天的。」
AI 傳統的回應：「好的，我為您找到明日去東京的 JL802 班機，下午 2 點出發，價格為 $5,000。請問確定要訂購嗎？」

這很聰明，**但是太不直覺了！** 使用者還要打字回答「好，幫我買」。如果是一個聰明的軟體，它應該要**在聊天室裡直接彈出一個華麗的［確認訂購按鈕］，外加一個顯示了天氣與航線的［互動地圖卡片］！**

我們如何讓不懂前端語法的 LLM，把高質感的「UI 介面卡片」送進聊天室呢？

---

## 1. 兵器解密：Vercel AI SDK 的核心魔法

以往要做到這點，前端工程師必須寫出極度痛苦的正則表達式 (Regex)，並猜測 LLM 有沒有偷偷在文字裡夾帶 `<widget>` 這種特殊語法來手動抽換畫面。極易 Bug 且維護成本極高。
直到 **Vercel AI SDK** 統治了這個市場。它利用兩個黑科技完成了這項壯舉：

### 🛠️ 函數呼叫 (Tool Calling / Function Calling)

我們不再要求 LLM 直接回答。我們在送出對話時，給大腦 (如 Claude 3 或 GPT-4o) 一本「小抄本」，裡面詳細寫著：
_「如果你覺得你需要呈現班機資訊，請不要廢話，直接呼叫一個名為 `render_flight_ticket` 的函數，並帶入目的地與價格作為參數。」_
LLM 看到這本小抄，馬上恍然大悟！它將原本要吐出的廢話，轉換成了一段精準的 **JSON 指令 (Tool Call)** 傳回給我們的伺服器。

### ⚛️ RSC (React Server Components 伺服器元件) 魔法

我們的 Node.js 伺服器 (通常是 Next.js 架構) 收到了這串 `render_flight_ticket` Json，魔法開始了。
伺服器端內建了 Vercel 開發的 `streamUI` 引擎。它攔截到這個 Json，立刻在**後台雲端伺服器上**，用 React 真的畫出了一張名為 `<FlightTicket>` 的虛擬 DOM 票據卡片！
接著，Vercel 引擎把這張擁有靈魂的 **「渲染好的 UI 互動小島 (React Server Component)」**，利用特殊的資料流通訊協定，像打字機串流 (Streaming) 一樣，直接砸向使用者的聊天畫面裡！

---

## 2. 迎向 Generative AI-Native 體驗

這這稱之為 **Generative UI (生成式介面)**。
你不再是在和一個「發簡訊的文字機器人」聊天。你是在和一個「**會隨時為了你，在一秒內徒手寫出一個小 App**」的萬能系統工程師交談。

- **點擊即服務 (Click-to-Action)**：AI 丟下來的這張機票卡片，上面有真實掛載 `onClick` 的紅色按鈕。當使用者在聊天室按下【付款】，金流 API 就直接送出了。這比起讓使用者打字回覆「好幫我付款」降低了 90% 的摩擦力。
- **混合文字與 UI (Rich Text)**：在回傳流 (Streaming) 中，AI 可以先講兩句人話（「好的！這是為您尋找的機票...」），下一秒立刻噴出一張 React 卡片。這創造了無與倫比的沉浸體驗。

_(雖然此技術發源於 React 生態圈的 RSC 概念，但目前 Vue 3 生態圈亦開始透過各類 Wrapper 或是在背景攔截 JSON State 控制組件顯隱來實現同等級的 AI-UI 渲染！)_

---

## 💡 Vibecoding 工地監工發包訣竅

若您命令 AI 架構師為 Moyin 專案打造不僅限於打字、而能深度賦能商業行為的智能助手時：

> 🗣️ `「你在開發這個與客戶核對設計原形的智能對話機器人時，絕對不准只給我純文字的 AI 回報！我們即將導入【Generative UI (生成式介面)】思維。請善加利用 LLM（如 GPT/Claude）原生之【Tool Calling (函數調用)】功能約定好 JSON 格式的回傳值。當 LLM 在後台決策要出圖時，前端接收到對應之 Tool 事件流 (Stream)，必須即刻在對話氣泡紀錄中掛載出具備操作按鈕之【動態 Vue Component 套件卡片】！我要讓使用者在對話流內就能直接完成點擊與業務操作！」`
