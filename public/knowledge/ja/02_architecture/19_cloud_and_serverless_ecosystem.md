# 19. クラウドエコシステム：パブリッククラウド、サーバーレス、エッジ

> **種類**: デプロイ＆インフラ入門  
> **重点**: 伝統的なパブリッククラウド、ゼロオペレーションの Serverless、そして超低遅延のエッジネットワークを俯瞰します。

---

## 1. IaaS：三大パブリッククラウド

オンプレミスの維持コストが膨らむなか、企業はパブリッククラウドへ移行します。

### AWS

- **立ち位置**：最も成熟したインフラの老舗王者。サービスの揃いとエコシステムが最も豊富で、重載なコア業務を多数ホストします。  
- **代表例**：EC2（弾力的 VM）、S3（オブジェクトストレージ）。Moyin のローカル MinIO は、この S3 のクラウド想定ターゲットです。

### GCP

- **立ち位置**：ビッグデータ分析、Kubernetes ネイティブ、強力な ML クラスター分野の先導者。海底ケーブルによる低遅延も特徴。  
- **関係性**：Google Stitch MCP 連携は GCP エコシステムの一部です。

### Azure

- **立ち位置**：Active Directory など Microsoft エンタープライズ資産と強く結びつくため、金融・伝統企業に人気。  
- **追記**：OpenAI の巨大推論クラスタは Azure 上に展開されています。

---

## 2. Serverless 革命：運用からの解放

「サーバーレス」は誤解を生みやすい用語ですが、本質はサーバーの設定・パッチ・スケーリング責任をベンダーに委ね、開発者は関数コードに専念することです。

### VM の痛み

固定スペックの VM を借りると、アクセスがゼロでも月額を払い、突発的なアクセス洪水では CPU を使い切ってダウンします。

### Serverless の利点（AWS Lambda / Google Cloud Functions）

- **従量課金**：Python/Node.js 関数をアップロードし、呼び出しがなければゼロ円。呼び出されたときだけミリ秒単位で課金。  
- **オートスケール**：10,000 倍のアクセスが来ても、クラウドが即時に 10,000 個のインスタンスを生成し、波が引いたら破棄。

---

## 3. CDN & Edge の反撃

### CDN の基礎

台湾からアメリカ東海岸のホストにアクセスすると 150ms 以上かかる。CDN は HTML や画像を世界中の PoP にキャッシュし、最寄りノードで数ミリ秒配送に切り替えます。

### Cloudflare などによるエッジ進化

グローバルなノードでコードも動かす。それがエッジです。

- JWT 検証や簡易 DB ルックアップは、海を越えず近隣の V8 ノードで処理。  
- 超低遅延でネイティブ体験に迫る。

---

## 💡 まとめと取捨選択

Serverless と Edge は強力ですが万能ではなく、Moyin は GPU 強負荷や Temporal で調整される長時間ワークフローを伴うため、Serverless の実行時間制限（5~15 分）を超え、常に長時間接続が必要です。したがって長期的には固定スペック VM クラスタが依然として不可避です。
